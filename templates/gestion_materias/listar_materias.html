{% extends "baseHTML/base_listar.html" %}
{% load static %}

{% block titulo %}
    Listado de Materias
{% endblock titulo %}

{% block formulario %}
    <div>
        {% if messages %}
            {% for message in messages %}
                <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                    {{ message }}
                    <span class="close-btn" onclick="this.parentElement.style.display='none'">&times;</span>
                </div>
            {% endfor %}
        {% endif %}
        <h1>Listado De Materias</h1>
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Nombre curso</th>
                    <th>Profesor</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            {% for materia in materias %}
                <tbody>
                    <td>{{materia.nombre}}</td>
                    <td>{{materia.nombre_curso}}</td>
                    <td>{{materia.maestro}}</td>
                        <td> 
                            <a href="{% url 'eliminar_materia' materia.pk %}" class="action-link delete-link">
                                <i class="fas fa-trash"></i>
                            </a>
                            <a href="{% url 'actualizar_materia' materia.pk %}" class="action-link edit-link">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a href="{% url 'detalle_materia' materia.pk %}" class="action-link read-link">
                                <i class="fas fa-eye"></i>
                        </td>
                </tbody>
            {% endfor %}
        </table>
        <button><a style="text-decoration: none; color: aliceblue;" href="{% url 'registrar_materia'  %}">Crear Materia</a></button>
    </div>
    <script>
        // Hacer que los mensajes desaparezcan despu√©s de 5 segundos
        setTimeout(function() {
            var messages = document.getElementsByClassName('message');
            for (var i = 0; i < messages.length; i++) {
                messages[i].style.display = 'none';
            }
        }, 5000);
    </script>
{% endblock formulario %}